name: Workflow executed at each push
on:
  push:
  pull_request:

jobs:
  
  shellcheck:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: ./shellcheck.sh -f checkstyle
        working-directory: ./

  dockerLint:
    runs-on: ubuntu-latest
    steps: 
      - uses: actions/checkout@v2
      - name: lint
        uses: luke142367/Docker-Lint-Action@v1.0.0
        with:
          target: .build/Dockerfile.alpine .build/Dockerfile.ubuntu .build/DockerfileUser
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  
  awkLint:
    runs-on: ubuntu-latest
    steps:
       - run: ./awkLint.sh > awkLint.log
         working-directory: ./
       - run: |
          ./awkLint.sh > awkLint.log
  
